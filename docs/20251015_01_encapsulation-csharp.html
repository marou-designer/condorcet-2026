<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encapsulation en C# .NET</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #11998e;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1em;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        h2 {
            color: #38ef7d;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #11998e;
        }
        
        .capsule-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .capsule {
            position: relative;
            width: 300px;
            height: 400px;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            border-radius: 150px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
            transition: transform 0.3s ease;
        }
        
        .capsule:hover {
            transform: scale(1.05);
        }
        
        .capsule h3 {
            color: white;
            font-size: 1.8em;
            margin-bottom: 20px;
        }
        
        .private-zone {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed white;
            margin: 10px 0;
            width: 100%;
        }
        
        .private-zone h4 {
            color: white;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .private-zone p {
            color: white;
            font-size: 0.9em;
        }
        
        .public-zone {
            background: rgba(255,255,255,0.9);
            padding: 20px;
            border-radius: 15px;
            margin: 10px 0;
            width: 100%;
        }
        
        .public-zone h4 {
            color: #11998e;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .public-zone p {
            color: #333;
            font-size: 0.9em;
        }
        
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .keyword {
            color: #c678dd;
        }
        
        .class-name {
            color: #e5c07b;
        }
        
        .method {
            color: #61afef;
        }
        
        .string {
            color: #98c379;
        }
        
        .comment {
            color: #5c6370;
            font-style: italic;
        }
        
        .number {
            color: #d19a66;
        }
        
        .demo-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .demo-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #11998e;
        }
        
        .demo-card h4 {
            color: #11998e;
            margin-bottom: 10px;
        }
        
        .input-group {
            margin: 15px 0;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-weight: bold;
        }
        
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        
        button {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            margin: 5px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        
        .output {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            min-height: 80px;
            border-left: 5px solid #11998e;
            font-family: monospace;
        }
        
        .advantage {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 5px solid #4caf50;
        }
        
        .advantage h4 {
            color: #2e7d32;
            margin-bottom: 5px;
        }
        
        .error {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid #c62828;
        }
        
        .success {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid #4caf50;
        }
        
        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Encapsulation en C# .NET</h1>
        <p class="subtitle">Prot√©ger et contr√¥ler l'acc√®s aux donn√©es</p>
        
        <div class="section">
            <h2>üìö Qu'est-ce que l'Encapsulation ?</h2>
            <p>L'encapsulation est le principe de cacher les d√©tails internes d'une classe et de fournir un acc√®s contr√¥l√© aux donn√©es via des m√©thodes publiques. C'est comme une capsule qui prot√®ge son contenu !</p>
        </div>
        
        <div class="section">
            <h2>üèóÔ∏è Visualisation de l'Encapsulation</h2>
            <div class="capsule-visual">
                <div class="capsule">
                    <h3>CompteBancaire</h3>
                    <div class="private-zone">
                        <h4>üîí Priv√©</h4>
                        <p>- solde</p>
                        <p>- numeroCompte</p>
                        <p><em>Cach√© de l'ext√©rieur</em></p>
                    </div>
                    <div class="public-zone">
                        <h4>üåç Public</h4>
                        <p>+ Deposer()</p>
                        <p>+ Retirer()</p>
                        <p>+ ObtenirSolde()</p>
                        <p><em>Accessible</em></p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>üíª Code C#</h2>
            <div class="code-block">
<span class="comment">// Classe avec encapsulation</span><br>
<span class="keyword">public class</span> <span class="class-name">CompteBancaire</span><br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Champs priv√©s - cach√©s de l'ext√©rieur</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private decimal</span> solde;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">private string</span> numeroCompte;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Propri√©t√© publique en lecture seule</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public decimal</span> Solde<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">get</span> { <span class="keyword">return</span> solde; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Constructeur</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public</span> <span class="method">CompteBancaire</span>(<span class="keyword">string</span> numero, <span class="keyword">decimal</span> soldeInitial)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numeroCompte = numero;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solde = soldeInitial;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// M√©thodes publiques - acc√®s contr√¥l√©</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public void</span> <span class="method">Deposer</span>(<span class="keyword">decimal</span> montant)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (montant > <span class="number">0</span>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solde += montant;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">public bool</span> <span class="method">Retirer</span>(<span class="keyword">decimal</span> montant)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span> (montant > <span class="number">0</span> && montant <= solde)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solde -= montant;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return true</span>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return false</span>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
}
            </div>
        </div>
        
        <div class="section">
            <h2>üéÆ D√©monstration Interactive</h2>
            <div class="demo-section">
                <div class="demo-grid">
                    <div class="demo-card">
                        <h4>üí∞ Op√©rations sur le Compte</h4>
                        <div class="input-group">
                            <label>Montant √† d√©poser :</label>
                            <input type="number" id="montantDepot" value="100" min="0">
                        </div>
                        <button onclick="deposer()">üíµ D√©poser</button>
                        
                        <div class="input-group" style="margin-top: 20px;">
                            <label>Montant √† retirer :</label>
                            <input type="number" id="montantRetrait" value="50" min="0">
                        </div>
                        <button onclick="retirer()">üí∏ Retirer</button>
                    </div>
                    
                    <div class="demo-card">
                        <h4>üìä Informations du Compte</h4>
                        <p><strong>Num√©ro de compte :</strong> FR123456789</p>
                        <p><strong>Solde actuel :</strong> <span id="soldeActuel">1000</span> ‚Ç¨</p>
                        <button onclick="afficherSolde()">üîç Consulter le solde</button>
                        <button onclick="tenterAccesDirect()">‚ö†Ô∏è Tenter acc√®s direct</button>
                    </div>
                </div>
                
                <div class="output" id="output">
                    Effectuez une op√©ration pour voir le r√©sultat...
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>‚ú® Avantages de l'Encapsulation</h2>
            <div class="advantage">
                <h4>üõ°Ô∏è Protection des donn√©es</h4>
                <p>Les donn√©es ne peuvent pas √™tre modifi√©es directement, seulement via des m√©thodes contr√¥l√©es.</p>
            </div>
            <div class="advantage">
                <h4>‚úÖ Validation</h4>
                <p>Vous pouvez valider les donn√©es avant de les accepter (ex: montant positif).</p>
            </div>
            <div class="advantage">
                <h4>üîß Flexibilit√©</h4>
                <p>Vous pouvez changer l'impl√©mentation interne sans affecter le code externe.</p>
            </div>
            <div class="advantage">
                <h4>üéØ Contr√¥le d'acc√®s</h4>
                <p>D√©finissez pr√©cis√©ment ce qui est accessible et ce qui est cach√© (public, private, protected).</p>
            </div>
        </div>
        
        <div class="section">
            <h2>üîë Modificateurs d'acc√®s</h2>
            <div class="code-block">
<span class="keyword">public</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Accessible partout</span><br>
<span class="keyword">private</span>&nbsp;&nbsp;&nbsp;<span class="comment">// Accessible uniquement dans la classe</span><br>
<span class="keyword">protected</span>&nbsp;<span class="comment">// Accessible dans la classe et ses d√©riv√©es</span><br>
<span class="keyword">internal</span>&nbsp;&nbsp;<span class="comment">// Accessible dans le m√™me assembly</span>
            </div>
        </div>
    </div>
    
    <script>
        let solde = 1000;
        
        function mettreAJourSolde() {
            document.getElementById('soldeActuel').textContent = solde.toFixed(2);
        }
        
        function deposer() {
            const montant = parseFloat(document.getElementById('montantDepot').value);
            
            if (isNaN(montant) || montant <= 0) {
                document.getElementById('output').innerHTML = `
                    <div class="error">
                        ‚ùå <strong>Erreur :</strong> Le montant doit √™tre sup√©rieur √† 0 !<br>
                        <em>L'encapsulation prot√®ge contre les valeurs invalides.</em>
                    </div>
                `;
                return;
            }
            
            solde += montant;
            mettreAJourSolde();
            
            document.getElementById('output').innerHTML = `
                <div class="success">
                    ‚úÖ <strong>D√©p√¥t r√©ussi !</strong><br>
                    Montant d√©pos√© : ${montant.toFixed(2)} ‚Ç¨<br>
                    Nouveau solde : ${solde.toFixed(2)} ‚Ç¨<br><br>
                    <em>La m√©thode publique Deposer() a valid√© et trait√© l'op√©ration.</em>
                </div>
            `;
        }
        
        function retirer() {
            const montant = parseFloat(document.getElementById('montantRetrait').value);
            
            if (isNaN(montant) || montant <= 0) {
                document.getElementById('output').innerHTML = `
                    <div class="error">
                        ‚ùå <strong>Erreur :</strong> Le montant doit √™tre sup√©rieur √† 0 !<br>
                        <em>L'encapsulation prot√®ge contre les valeurs invalides.</em>
                    </div>
                `;
                return;
            }
            
            if (montant > solde) {
                document.getElementById('output').innerHTML = `
                    <div class="error">
                        ‚ùå <strong>Retrait refus√© !</strong><br>
                        Montant demand√© : ${montant.toFixed(2)} ‚Ç¨<br>
                        Solde disponible : ${solde.toFixed(2)} ‚Ç¨<br><br>
                        <em>L'encapsulation emp√™che un solde n√©gatif !</em>
                    </div>
                `;
                return;
            }
            
            solde -= montant;
            mettreAJourSolde();
            
            document.getElementById('output').innerHTML = `
                <div class="success">
                    ‚úÖ <strong>Retrait r√©ussi !</strong><br>
                    Montant retir√© : ${montant.toFixed(2)} ‚Ç¨<br>
                    Nouveau solde : ${solde.toFixed(2)} ‚Ç¨<br><br>
                    <em>La m√©thode publique Retirer() a valid√© et trait√© l'op√©ration.</em>
                </div>
            `;
        }
        
        function afficherSolde() {
            document.getElementById('output').innerHTML = `
                <div class="success">
                    üí∞ <strong>Consultation du solde</strong><br>
                    Solde actuel : ${solde.toFixed(2)} ‚Ç¨<br><br>
                    <em>Acc√®s en lecture seule via la propri√©t√© publique Solde.</em>
                </div>
            `;
        }
        
        function tenterAccesDirect() {
            document.getElementById('output').innerHTML = `
                <div class="error">
                    ‚õî <strong>Acc√®s refus√© !</strong><br><br>
                    <code>compte.solde = 999999; // ‚ùå ERREUR !</code><br><br>
                    Le champ 'solde' est priv√© et ne peut pas √™tre modifi√© directement.<br>
                    Vous devez utiliser les m√©thodes publiques Deposer() ou Retirer().<br><br>
                    <em>C'est le principe de l'encapsulation : protection des donn√©es !</em>
                </div>
            `;
        }
    </script>
</body>
</html>